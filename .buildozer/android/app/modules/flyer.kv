#:import C kivy.utils.get_color_from_hex
#:import P os.path.join


<FlyerOpenPanel@BoxLayout>:
    orientation: 'vertical'
    TabbedPanel:
        pos_hint: {'center_x': .5, 'center_y': .5}
        do_default_tab: False
        background_image: P('images','blue.png')
        tab_width: self.size[0]/3 - 1
        tab_pos: 'top_mid'
        tab_height: 50
        background_normal: P('images','yellow_normal.png')
        background_down: P('images','yellow_down.png')
        TabbedPanelItem:
            text: 'Status'
            FlyerTextView:
                id: quote_space
                text: 'Beware the alien, the mutant, the heretic. - [i]The Adeptus Astartes[/i] - [b]Warhammer 40,000[/b]'
        TabbedPanelItem:
            text: 'Settings'
            FlyerPasswordChanger:
                id: flyer_password_changer
    FlyerFooter

<FlyerPasswordChanger@BoxLayout>
    orientation: 'vertical'
    FlyerLbl:
        text: 'Enter New Password:'
    FlyerPassword:
        id: password_new_1
    FlyerPassword:
        id: password_new_2
    FlyerBtn:
        id: reset_password_button
        text: "Change Password"


<Label>:
    font_name: 'Riona'
    markup: True
<FlyerLbl@Label>:
    font_size: 18
<FlyerTextView@Label>:
    size_hint_y: None
    font_size: 48
    text_size: self.width, None
    height: self.texture_size[1]
    markup: True
<FlyerBtn@Button>:
    font_name: 'Riona'
    font_size: 18
    background_normal: P('images','yellow_normal.png')
    background_down: P('images','yellow_down.png')
    bold: True
    border: (2,2,2,2)
    color: C('#0088D6')
<FlyerInput@TextInput>:
    font_name: 'Riona'
    font_size: 24
    background_active: P('images','blue.png')
    background_color: C('#0088D6')
    border: (2,2,2,2)
    cursor_color: C('#FDDE2E')
    padding: [5, ( self.height - self.line_height ) / 2] 
    multiline: False
<FlyerPassword@FlyerInput>:
    password: True
<FlyerFooter@BoxLayout>:
    height: '100dp'
    size_hint_y: None
    orientation: 'horizontal'
    canvas:
        Color: 
            rgba: C('#0088D6')
        Rectangle:
            pos: self.pos
            size: self.size[0]*0.5, self.size[1]    
    canvas:
        Color:
            rgba: C('#FFFFFF')
        Rectangle:
            size: self.size
            pos: self.pos
            source: P('images','fk_banner.png')


BoxLayout:
    orientation: 'vertical'
    padding: 5
    spacing: 10
    id: loginPage
    FlyerLbl:
        text: '[color=#FDDE2E]Flyer[/color]'
        font_size: 48
        bold: True
        canvas:
            Color:
                rgba: C('#FDDE2E')
            Rectangle:
                size: self.size[0], self.size[1]*0.1
                pos: self.pos
        size_hint_y: 2

    BoxLayout:
        orientation: 'horizontal'
        padding: 2
        spacing: 5

        FlyerLbl:
            text: 'User ID:'
            halign: 'left'
            valign: 'middle'
            size_hint_y: 0.5

        FlyerInput:
            id: user_id
            color: C('#FDDE2E')
            size_hint_y: 0.5
    BoxLayout:
        orientation: 'horizontal'
        padding: 5
        spacing: 1
        FlyerLbl:
            text: 'Password:'
            size_hint_y: 0.5

        FlyerPassword:
            id: password
            size_hint_y: 0.5

    FlyerBtn:
        text: 'Log In'
        size_hint_y: 1
        on_press: app.getUserDetails()
    FlyerFooter
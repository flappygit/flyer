#:import C kivy.utils.get_color_from_hex
#:import P os.path.join

#All labels must use Riona.
<Label>:
    font_name: 'Riona'
    markup: True

#Default label class
<FlyerLbl@Label>:
    font_size: 18

#Class to display longer text. Wraps around the screen.
<FlyerTextView@Label>:
    size_hint_y: None
    font_size: 42
    text_size: self.width, None
    height: self.texture_size[1]
    markup: True

#Default button.
<FlyerBtn@Button>:
    font_name: 'Riona'
    font_size: 18
    background_normal: P('images','yellow_normal.png')
    background_down: P('images','yellow_down.png')
    bold: True
    border: (2,2,2,2)
    color: C('#0088D6')

#Default text input, one line.
<FlyerInput@TextInput>:
    font_name: 'Riona'
    font_size: 24
    background_active: P('images','blue.png')
    background_color: C('#0088D6')
    border: (2,2,2,2)
    cursor_color: C('#FDDE2E')

    multiline: False

#Password dialog.
<FlyerPassword@FlyerInput>:
    password: True

#Footer for the entire app.
<FlyerFooter@BoxLayout>:
    height: '100dp'
    size_hint_y: None
    orientation: 'horizontal'
    canvas:
        Color: 
            rgba: C('#0088D6')
        Rectangle:
            pos: self.pos
            size: self.size[0]*0.5, self.size[1]
    canvas:
        Color:
            rgba: C('#FFFFFF')
        Rectangle:
            size: self.size
            pos: self.pos
            source: P('images','fk_banner.png')

<YButton@Button>:
    background_normal: 'yellow_normal.png'
    background_down: 'yellow_down.png'
    disable: True
    height: self.size[0]
    size_hint_y: None
    canvas.after:
        Color: 
            rgba: 0,0.349, 0.549, 1
        Line:
            rectangle: self.pos[0], self.pos[1], self.size[0], self.size[1]
            width: 2

<FlyerOpenPanel@BoxLayout>:
    orientation: 'vertical'
    padding: 5
    spacing: 5
    FlyerLbl:
        text: '[color=#FDDE2E][b]Flyer[/b][/color]'
        font_size: 36
        size_hint_y: 0.1
        bold: True
        canvas:
            Color:
                rgba: C('#FDDE2E')
            Rectangle:
                size: self.size[0], self.size[1]*0.1
                pos: self.pos
    Carousel:
        size_hint_y: 0.80
        loop: True
        BoxLayout:
            orientation: 'vertical'
            padding: 20
            spacing: 20
            FlyerTextView:
                id: quote_space
                size_hint_y: 0.10
                font_size: 22
                text: '\n\nWelcome to [b]Flyer[/b].\nSwipe left for the reports.'                
            FlyerTextView:
                id: quote_space
                font_size: 24
                size_hint_y: 0.70
                text: 'Beware the alien, the mutant, the heretic. - [i]The Adeptus Astartes[/i] - [b]Warhammer 40,000[/b]'
        Carousel:
            size_hint_y: 1
            direction: "bottom"
            BoxLayout:
                orientation: 'vertical'
                padding: 20
                spacing: 20
                FlyerTextView:
                    size_hint_y: 0.1
                    font_size: 20
                    text: "Performance Report"
                FlyerInput:
                    id: perf_report
                    size_hint_y: 0.75
                    font_size: 18
                    text: "Performance report text here."
                    multiline: True
                FlyerTextView:
                    font_size: 10
                    size_hint_y: 0.05
                    halign: 'center'
                    text: "Last Edited By Pavan"
                AnchorLayout:
                    size_hint_y: 0.1
                    FlyerBtn:
                        id: save_perf
                        size_hint_x: 0.5
                        text: "Save Changes"
                        anchor_x: 'center'
                        anchor_y: 'center'
            BoxLayout:
                orientation: 'vertical'
                padding: 20
                spacing: 20
                FlyerTextView:
                    size_hint_y: 0.1
                    font_size: 20
                    text: "Organizational Development"
                FlyerInput:
                    id: orgdev
                    size_hint_y: 0.75
                    font_size: 18
                    multiline: True
                    text: "Organizational Development report text here."
                FlyerTextView:
                    size_hint_y: 0.05
                    font_size: 10
                    halign: 'center'
                    text: "Last Edited By Pavan"
                AnchorLayout:
                    size_hint_y: 0.1
                    FlyerBtn:
                        id: save_orgdev
                        size_hint_x: 0.5
                        text: "Save Changes"
                        anchor_x: 'center'
                        anchor_y: 'center'
            BoxLayout:
                orientation: 'vertical'
                padding: 20
                spacing: 20
                FlyerTextView:
                    size_hint_y: 0.1
                    font_size: 20
                    text: "Rewards"
                FlyerInput:
                    id: rewards
                    size_hint_y: 0.75
                    font_size: 18
                    multiline: True
                    text: "Rewards report text here."
                FlyerTextView:
                    size_hint_y: 0.05
                    font_size: 10
                    halign: 'center'
                    text: "Last Edited By Pavan"
                AnchorLayout:
                    size_hint_y: 0.1
                    FlyerBtn:
                        id: save_rewards
                        size_hint_x: 0.5
                        text: "Save Changes"
                        anchor_x: 'center'
                        anchor_y: 'center'
        FlyerPasswordChanger:
            id: flyer_password_changer
    FlyerFooter:
        size_hint_y: 0.1

<FlyerPasswordChanger@BoxLayout>
    orientation: 'vertical'
    padding: 20
    spacing: 20
    FlyerTextView:
        text: 'Enter the New Password:'
        font_size: 26
        size_hint_y: 0.10
    FlyerPassword:
        id: password_new_1
        size_hint_y: 0.20
    FlyerPassword:
        id: password_new_2
        size_hint_y: 0.20
    FlyerBtn:
        id: reset_password_button
        size_hint_y: 0.15
        text: "Change Password"


#Default main layout
BoxLayout:
    orientation: 'vertical'
    padding: 5
    spacing: 10
    id: loginPage
    FlyerLbl:
        text: '[color=#FDDE2E]Flyer[/color]'
        font_size: 48
        bold: True
        canvas:
            Color:
                rgba: C('#FDDE2E')
            Rectangle:
                size: self.size[0], self.size[1]*0.1
                pos: self.pos
        size_hint_y: 2

    FlyerInput:
        id: user_id
        color: C('#FDDE2E')
        size_hint_y: 0.5
        text: "vinay.kt"
    FlyerPassword:
        id: password
        size_hint_y: 0.5
        text: "vinay87"

    FlyerBtn:
        text: 'Log In'
        size_hint_y: 1
        on_press: app.getUserDetails()
    FlyerFooter